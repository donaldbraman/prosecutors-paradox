<!DOCTYPE html><html><head><title>Criminal History Impact Simulation</title><style>body{color:#333;background-color:#f4f4f4;flex-direction:column;align-items:center;margin:0;padding:20px;font-family:Arial,Helvetica Neue,sans-serif;display:flex}h1{text-align:center;color:#333;margin-bottom:10px}.description{text-align:center;color:#666;max-width:800px;margin-bottom:20px;line-height:1.4}.parameters-container{background-color:#fff;border-radius:12px;flex-direction:column;justify-content:center;gap:24px;width:100%;max-width:600px;margin-bottom:30px;padding:25px;display:flex;box-shadow:0 4px 12px #0000000d}.parameter-group{flex-direction:column;gap:5px;display:flex}.parameter-group label{color:#555;font-size:.9em}.parameter-group .input-wrapper{align-items:center;gap:5px;display:flex}.parameter-group .input-wrapper span{color:#555;font-size:.9em}.parameter-group input[type=number]{color:#2c3e50;border:1px solid #ddd;border-radius:6px;width:90px;padding:10px 12px;font-size:14px;transition:all .2s;box-shadow:inset 0 1px 3px #0000000d}.parameter-group input[type=number]:focus{border-color:#1976d2;outline:none;box-shadow:0 0 0 3px #1976d21a}.parameter-group .tooltip{color:#666;margin-top:2px;font-size:.8em}button{color:#fff;cursor:pointer;background-color:#2196f3;border:none;border-radius:4px;padding:10px 20px;font-weight:700;transition:background-color .2s}button:hover{background-color:#1976d2}.main-container{background-color:#fff;border-radius:8px;flex-direction:column;width:90%;max-width:600px;margin:0 auto;padding:20px;display:flex;box-shadow:0 2px 4px #0000001a}.visualization-container{flex-direction:column;justify-content:center;gap:20px;margin-bottom:40px;display:flex}.grid-container{background:#ffffff80;border-radius:12px;align-items:center;gap:25px;padding:10px;display:flex}.grid-section{flex-direction:column;align-items:center;display:flex}.grid-title{text-align:center;color:#333;margin-bottom:15px;font-size:1.1em;font-weight:700}.grid{background-color:#fff;background-image:linear-gradient(#0000000d 1px,#0000 1px),linear-gradient(90deg,#0000000d 1px,#0000 1px);background-size:10% 10%;border:1px solid #e0e0e0;border-radius:12px;width:150px;height:150px;margin-bottom:0;transition:all .3s;position:relative;box-shadow:inset 0 0 30px #00000005}.grid:hover{border-color:#d0d0d0;box-shadow:inset 0 0 35px #00000008}.dot{border-radius:50%;transition:all .3s;position:absolute;transform:translate(-50%,-50%)}.white-dot{background-color:#2196f3b3;border:1px solid #2196f3e6}.black-dot{background-color:#f44336b3;border:1px solid #f44336e6}.legend{background-color:#fff;border:1px solid #e0e0e0;border-radius:12px;align-self:center;min-width:90px;margin-left:35px;padding:22px 28px;transition:all .3s;box-shadow:0 4px 12px #00000008}.legend:hover{border-color:#d0d0d0;box-shadow:0 6px 16px #0000000d}.legend-title{text-align:center;color:#2c3e50;letter-spacing:.4px;margin-bottom:20px;font-size:1em;font-weight:600}.legend-item{color:#34495e;align-items:center;margin-bottom:16px;padding:4px 0;font-size:.95em;transition:all .2s;display:flex}.legend-item:hover{color:#2c3e50;transform:translate(2px)}.legend-item:last-child{margin-bottom:0}.legend-dot{border-radius:50%;width:12px;height:12px;margin-right:14px;box-shadow:0 2px 4px #0000001a}.chart-container{box-sizing:border-box;background-color:#fff;border-radius:12px;width:100%;height:350px;margin-top:30px;padding:25px 30px 35px;box-shadow:0 4px 12px #0000000d}</style><script src="https://cdn.jsdelivr.net/npm/chart.js"></script></head><body> <h1>Criminal History Impact Simulation</h1> <div class="description"> This simulation demonstrates the cumulative impact of different arrest rates and sentencing policies over time. Each dot represents an individual, with size indicating number of arrests and position randomly assigned. </div> <div class="parameters-container"> <div class="parameter-group"> <label for="white_rate">White Arrest Rate:</label> <div class="input-wrapper"> <input type="number" id="white_rate" value="1" min="0" max="100" step="1"> <span>%</span> </div> <div class="tooltip">Probability of arrest per year (0-100%)</div> </div> <div class="parameter-group"> <label for="black_rate">Black Arrest Rate:</label> <div class="input-wrapper"> <input type="number" id="black_rate" value="7" min="0" max="100" step="1"> <span>%</span> </div> <div class="tooltip">Probability of arrest per year (0-100%)</div> </div> <div class="parameter-group"> <label for="avg_first">First Offense Sentence:</label> <div class="input-wrapper"> <input type="number" id="avg_first" value="0" min="0" max="10" step="0.5"> </div> <div class="tooltip">Average sentence in years</div> </div> <div class="parameter-group"> <label for="avg_second">Second Offense Sentence:</label> <div class="input-wrapper"> <input type="number" id="avg_second" value="0.5" min="0" max="10" step="0.5"> </div> <div class="tooltip">Average sentence in years</div> </div> <div class="parameter-group"> <label for="avg_third">Third+ Offense Sentence:</label> <div class="input-wrapper"> <input type="number" id="avg_third" value="3" min="0" max="10" step="0.5"> </div> <div class="tooltip">Average sentence in years</div> </div> <button id="run_simulation">Run Simulation</button> </div> <div class="main-container"> <div class="visualization-container"> <div class="grid-container"> <div class="grid-section"> <div class="grid-title">White Population</div> <div class="grid" id="white_grid"></div> </div> <div class="legend"> <div class="legend-title">Arrest History</div> <div class="legend-item"> <div class="legend-dot white-dot" style="width:8px;height:8px"></div> <span>1 Arrest</span> </div> <div class="legend-item"> <div class="legend-dot white-dot" style="width:12px;height:12px"></div> <span>2 Arrests</span> </div> <div class="legend-item"> <div class="legend-dot white-dot" style="width:16px;height:16px"></div> <span>3+ Arrests</span> </div> </div> </div> <div class="grid-container"> <div class="grid-section"> <div class="grid-title">Black Population</div> <div class="grid" id="black_grid"></div> </div> <div class="legend"> <div class="legend-title">Arrest History</div> <div class="legend-item"> <div class="black-dot legend-dot" style="width:8px;height:8px"></div> <span>1 Arrest</span> </div> <div class="legend-item"> <div class="black-dot legend-dot" style="width:12px;height:12px"></div> <span>2 Arrests</span> </div> <div class="legend-item"> <div class="black-dot legend-dot" style="width:16px;height:16px"></div> <span>3+ Arrests</span> </div> </div> </div> </div> <div class="chart-container"> <canvas id="chart"></canvas> </div> </div> <script>let e;const t=document.getElementById("white_rate"),o=document.getElementById("black_rate"),r=document.getElementById("avg_first"),a=document.getElementById("avg_second"),n=document.getElementById("avg_third"),i=document.getElementById("run_simulation"),l=document.getElementById("white_grid"),d=document.getElementById("black_grid"),s=document.getElementById("chart").getContext("2d");let c=[],u=[];function g(e,t,o){e.innerHTML="",t.forEach(t=>{if(t.arrests>0){let r=document.createElement("div");r.className=`dot ${o?"white-dot":"black-dot"}`;let a=8+(t.arrests-1)*4;r.style.width=`${a}px`,r.style.height=`${a}px`,r.style.left=`${100*t.x}%`,r.style.top=`${100*t.y}%`,e.appendChild(r)}})}function p(e,t){let o=e.filter(e=>e.sentenceRemaining<=0),i=Math.round(o.length*t);for(let e=0;e<i&&0!==o.length;e++){let e=Math.floor(Math.random()*o.length),t=o[e];t.arrests++;let i=function(e){let t=parseFloat(r.value),o=parseFloat(a.value),i=parseFloat(n.value);return 1===e?t:2===e?o:i}(t.arrests);t.sentenceRemaining=i,o.splice(e,1)}}function f(e){e.forEach(e=>{e.sentenceRemaining>0&&(e.sentenceServed++,e.sentenceRemaining--)})}function m(){var i,m;let y;if(y=!0,[t,o,r,a,n].forEach(e=>{let t=parseFloat(e.value);e.id.includes("rate")?t<0||t>100?(e.style.borderColor="red",y=!1):e.style.borderColor="#ccc":t<0||t>10?(e.style.borderColor="red",y=!1):e.style.borderColor="#ccc"}),!y){alert("Please check input values. Arrest rates must be between 0-100%, sentences between 0-10 years.");return}c=Array.from({length:100},()=>({arrests:0,sentenceServed:0,sentenceRemaining:0,x:Math.random(),y:Math.random()})),u=Array.from({length:100},()=>({arrests:0,sentenceServed:0,sentenceRemaining:0,x:Math.random(),y:Math.random()}));let h=parseFloat(t.value)/100,b=parseFloat(o.value)/100,v=[],C=[];for(let e=0;e<20;e++){p(c,h),p(u,b),f(c),f(u);let e=c.reduce((e,t)=>e+t.sentenceServed,0),t=u.reduce((e,t)=>e+t.sentenceServed,0);v.push(e),C.push(t),g(l,c,!0),g(d,u,!1)}i=v,m=C,e&&e.destroy(),e=new Chart(s,{type:"line",data:{labels:Array.from({length:20},(e,t)=>`Year ${t+1}`),datasets:[{label:"White Population",data:i,borderColor:"#1976D2",backgroundColor:"rgba(25, 118, 210, 0.15)",borderWidth:2.5,tension:.3,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:"#1976D2",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBackgroundColor:"#1976D2",pointHoverBorderColor:"#fff",pointHoverBorderWidth:2,fill:!0},{label:"Black Population",data:m,borderColor:"#D32F2F",backgroundColor:"rgba(211, 47, 47, 0.15)",borderWidth:2.5,tension:.3,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:"#D32F2F",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBackgroundColor:"#D32F2F",pointHoverBorderColor:"#fff",pointHoverBorderWidth:2,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{title:{display:!0,text:"Cumulative Years Sentenced Over Time",padding:{top:10,bottom:30},font:{size:18,weight:"600",family:"'Arial', 'Helvetica Neue', sans-serif"},color:"#2c3e50"},legend:{position:"top",align:"center",labels:{padding:25,usePointStyle:!0,pointStyle:"circle",font:{size:13,family:"'Arial', 'Helvetica Neue', sans-serif"},color:"#2c3e50"}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#2c3e50",titleFont:{size:14,weight:"600",family:"'Arial', 'Helvetica Neue', sans-serif"},bodyColor:"#34495e",bodyFont:{size:13,family:"'Arial', 'Helvetica Neue', sans-serif"},borderColor:"rgba(0,0,0,0.1)",borderWidth:1,padding:12,cornerRadius:6,displayColors:!0,boxWidth:8,boxHeight:8,callbacks:{label:e=>`${e.dataset.label}: ${e.parsed.y.toFixed(1)} years`}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Cumulative Sentence Years",padding:{top:15,bottom:15},font:{size:14,weight:"600",family:"'Arial', 'Helvetica Neue', sans-serif"},color:"#2c3e50"},ticks:{font:{size:12,family:"'Arial', 'Helvetica Neue', sans-serif"},color:"#34495e",padding:8},grid:{color:"rgba(0,0,0,0.05)",drawBorder:!1}},x:{title:{display:!0,text:"Simulation Year",padding:{top:15,bottom:15},font:{size:14,weight:"600",family:"'Arial', 'Helvetica Neue', sans-serif"},color:"#2c3e50"},ticks:{font:{size:12,family:"'Arial', 'Helvetica Neue', sans-serif"},color:"#34495e",padding:8},grid:{color:"rgba(0,0,0,0.05)",drawBorder:!1}}}}})}i.addEventListener("click",m),m();</script> </body></html>