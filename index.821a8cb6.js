let e,t;const r=document.getElementById("white_rate"),o=document.getElementById("black_rate"),n=document.getElementById("avg_first"),a=document.getElementById("avg_second"),l=document.getElementById("avg_third"),i=document.getElementById("run_simulation"),s=document.getElementById("white_grid"),d=document.getElementById("black_grid"),c=document.getElementById("single_sim_chart"),u=document.getElementById("multiple_sims_chart"),p=c.getContext("2d"),f=u.getContext("2d");let g=[],m=[];function h(){let e=!0;return[r,o,n,a,l].forEach(t=>{let r=parseFloat(t.value);t.id.includes("rate")?r<0||r>100?(t.style.borderColor="red",e=!1):t.style.borderColor="#ccc":r<0||r>10?(t.style.borderColor="red",e=!1):t.style.borderColor="#ccc"}),e}function b(){g=Array.from({length:100},()=>({arrests:0,sentenceServed:0,sentenceRemaining:0,x:Math.random(),y:Math.random()})),m=Array.from({length:100},()=>({arrests:0,sentenceServed:0,sentenceRemaining:0,x:Math.random(),y:Math.random()}))}function v(e,t,r){e.innerHTML="",t.forEach(t=>{if(t.arrests>0){let o=document.createElement("div");o.className=`dot ${r?"white-dot":"black-dot"}`;let n=8+(t.arrests-1)*4;o.style.width=`${n}px`,o.style.height=`${n}px`,o.style.left=`${100*t.x}%`,o.style.top=`${100*t.y}%`,e.appendChild(o)}})}function y(e,t){let r=e.filter(e=>e.sentenceRemaining<=0),o=Math.round(r.length*t);for(let e=0;e<o&&0!==r.length;e++){let e=Math.floor(Math.random()*r.length),t=r[e];t.arrests++;let o=function(e){let t=parseFloat(n.value),r=parseFloat(a.value),o=parseFloat(l.value);return 1===e?t:2===e?r:o}(t.arrests);t.sentenceRemaining=o,r.splice(e,1)}}function B(e){e.forEach(e=>{e.sentenceRemaining>0&&(e.sentenceServed++,e.sentenceRemaining--)})}function C(e){return{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{title:{display:!0,text:e,padding:{top:10,bottom:30},font:{size:18,weight:"600",family:"'Arial', 'Helvetica Neue', sans-serif"},color:"#2c3e50"},legend:{position:"top",align:"center",labels:{padding:25,usePointStyle:!0,pointStyle:"circle",font:{size:13,family:"'Arial', 'Helvetica Neue', sans-serif"},color:"#2c3e50"}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#2c3e50",titleFont:{size:14,weight:"600",family:"'Arial', 'Helvetica Neue', sans-serif"},bodyColor:"#34495e",bodyFont:{size:13,family:"'Arial', 'Helvetica Neue', sans-serif"},borderColor:"rgba(0,0,0,0.1)",borderWidth:1,padding:12,cornerRadius:6,displayColors:!0,boxWidth:8,boxHeight:8,callbacks:{label:e=>{let t=e.dataset,r=e.parsed.y,o=`${t.label}: ${r.toFixed(1)} years`;if(t.errorBars&&t.errorBars.plus){let r=t.errorBars.plus[e.dataIndex];r>0&&(o+=` \xb1${r.toFixed(1)}`)}return o}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Cumulative Sentence Years",padding:{top:15,bottom:15},font:{size:14,weight:"600",family:"'Arial', 'Helvetica Neue', sans-serif"},color:"#2c3e50"},ticks:{font:{size:12,family:"'Arial', 'Helvetica Neue', sans-serif"},color:"#34495e",padding:8},grid:{color:"rgba(0,0,0,0.05)",drawBorder:!1}},x:{title:{display:!0,text:"Simulation Year",padding:{top:15,bottom:15},font:{size:14,weight:"600",family:"'Arial', 'Helvetica Neue', sans-serif"},color:"#2c3e50"},ticks:{font:{size:12,family:"'Arial', 'Helvetica Neue', sans-serif"},color:"#34495e",padding:8},grid:{color:"rgba(0,0,0,0.05)",drawBorder:!1}}}}}function H(){var t,n;if(!h()){alert("Please check input values. Arrest rates must be between 0-100%, sentences between 0-10 years.");return}b();let a=parseFloat(r.value)/100,l=parseFloat(o.value)/100,i=[],c=[];for(let e=0;e<20;e++){y(g,a),y(m,l),B(g),B(m);let e=g.reduce((e,t)=>e+t.sentenceServed,0),t=m.reduce((e,t)=>e+t.sentenceServed,0);i.push(e),c.push(t),v(s,g,!0),v(d,m,!1)}t=i,n=c,e&&e.destroy(),e=new Chart(p,{type:"line",data:{labels:Array.from({length:20},(e,t)=>`Year ${t+1}`),datasets:[{label:"White Population",data:t,borderColor:"#1976D2",backgroundColor:"rgba(25, 118, 210, 0.15)",borderWidth:2.5,tension:.3,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:"#1976D2",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBackgroundColor:"#1976D2",pointHoverBorderColor:"#fff",pointHoverBorderWidth:2,fill:!0},{label:"Black Population",data:n,borderColor:"#D32F2F",backgroundColor:"rgba(211, 47, 47, 0.15)",borderWidth:2.5,tension:.3,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:"#D32F2F",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBackgroundColor:"#D32F2F",pointHoverBorderColor:"#fff",pointHoverBorderWidth:2,fill:!0}]},options:C("Single Simulation Results")})}function k(e){let t=e[0].length,r=Array(t).fill(0),o=Array(t).fill(0);for(let o=0;o<t;o++)r[o]=e.reduce((e,t)=>e+t[o],0)/e.length;for(let n=0;n<t;n++){let t=e.map(e=>Math.pow(e[n]-r[n],2)).reduce((e,t)=>e+t,0)/e.length;o[n]=Math.sqrt(t)}return{means:r,stdDevs:o}}i.addEventListener("click",()=>{H(),v(s,g,!0),v(d,m,!1)}),document.getElementById("run_multiple_simulations").addEventListener("click",()=>{!function(){var e,n;if(!h()){alert("Please check input values. Arrest rates must be between 0-100%, sentences between 0-10 years.");return}let a=[],l=[];for(let e=0;e<100;e++){b();let e=parseFloat(r.value)/100,t=parseFloat(o.value)/100,n=[],i=[];for(let r=0;r<20;r++){y(g,e),y(m,t),B(g),B(m);let r=g.reduce((e,t)=>e+t.sentenceServed,0),o=m.reduce((e,t)=>e+t.sentenceServed,0);n.push(r),i.push(o)}a.push(n),l.push(i)}e=k(a),n=k(l),t&&t.destroy(),t=new Chart(f,{type:"line",data:{labels:Array.from({length:20},(e,t)=>`Year ${t+1}`),datasets:[{label:"White Population",data:e.means,borderColor:"#1976D2",backgroundColor:"rgba(25, 118, 210, 0.15)",borderWidth:2.5,tension:.3,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:"#1976D2",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBackgroundColor:"#1976D2",pointHoverBorderColor:"#fff",pointHoverBorderWidth:2,fill:!0,errorBars:{plus:e.stdDevs,minus:e.stdDevs,color:"rgba(25, 118, 210, 0.3)"}},{label:"Black Population",data:n.means,borderColor:"#D32F2F",backgroundColor:"rgba(211, 47, 47, 0.15)",borderWidth:2.5,tension:.3,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:"#D32F2F",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBackgroundColor:"#D32F2F",pointHoverBorderColor:"#fff",pointHoverBorderWidth:2,fill:!0,errorBars:{plus:n.stdDevs,minus:n.stdDevs,color:"rgba(211, 47, 47, 0.3)"}}]},options:C("Multiple Simulations Results (with Standard Deviation)")})}()}),H();
//# sourceMappingURL=index.821a8cb6.js.map
